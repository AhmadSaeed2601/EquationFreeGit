%Initially by AJR, Apr 2017 -- Oct 2018
%!TEX root = eqnFreeDevMan.tex
\chapter{Create, document and test algorithms}
\label{sec:contribute}
\secttoc
\def\LaTeX{LaTeX}% for some unknown reason we need this!! 2018-12-22

For developers to create and document the various functions, we use an idea due to Neil~D. Lawrence of the University of Sheffield:
%\autoref{sec:rk2int} gives an example of the following structure to use.

\begin{itemize}
\item Each class of toolbox functions is located in separate directories in the repository, say~\verb|Dir|.

\item Create a \LaTeX\ file~\verb|Dir/funs.tex|: establish as one \LaTeX\ section that \verb|\input{Dir/*.m}|s the  files of the functions in the class, example scripts of use, and possibly test scripts, \autoref{tbl:funtex}.

\item Each such \verb|Dir/funs.tex| file is to be included from the main \LaTeX\ file \verb|Doc/eqnFreeDevMan.tex| so that people can most easily work on one section at a time: 
\begin{itemize}
\item put \verb|\include{funs}| into \verb|Doc/eqnFreeDevMan.tex|;
\item to include we have to use a soft link so at the command line in the directory~\verb|Doc| execute \verb|ln -s ../Dir/funs.tex|
\footnote{Such soft links are necessary for at least my Mac \textsc{osx} and hopefully will work for other developers.  Further, it has the advantage that auxiliary files are also located in the \texttt{Doc} directory.}
\end{itemize}


\item Each toolbox function is documented as a separate section, with tests and examples as separate sections.

\item Each function-section and test-section is to be created as a \script\ \verb|Dir/*.m| file, say \verb|Dir/fun1.m|, so that users simply invoke the function in \script\ as usual by \verb|fun1(...)|.

Some editors may need to be told that \verb|fun1.m| is a \LaTeX\ file.  For example, TexShop on the Mac requires one to execute in a Terminal
\begin{verbatim}
defaults write TeXShop OtherTeXExtensions -array-add "m"
\end{verbatim}

\item \autoref{tbl:format} gives the template for the \verb|Dir/*.m| function-sections.
The format for a example\slash test-section is similar.

%\item Currently I use the beautiful \verb|minted| package to list code, but it does require a little more effort when installing.

\item Any figures from examples should be generated and then saved for later inclusion with the following (which finally works properly for \textsc{Matlab} 2017+)
\begin{verbatim}
set(gcf,'PaperPosition',[0 0 14 10])
print('-depsc2',filename)
\end{verbatim}
Include with \quad \verb|\includegraphics[scale=0.85]{filename}|

\end{itemize}


\begin{table}
\caption{\label{tbl:funtex}example \texttt{Dir/*.tex} file to typeset in the master document a function-section, say \texttt{fun.m}, and maybe the test\slash example-sections.}
\VerbatimInput[numbers=left]{../sectionTemplate.tex}
\end{table}
\begin{table}
\caption{\label{tbl:format}template for a function-section \texttt{Dir/*.m} file.}
\VerbatimInput[numbers=left]{../functionTemplate.m}
\end{table}


